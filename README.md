NeuVector Vulnerability Scanner Jenkins Plugin
==============================================
## Description

Scan registries and images for vulnerabilities using this plug-in with
the NeuVector scanner.

## Requirements

* It supports two modes of image scan. The first mode (default mode) is "Controller & Scanner" mode which requires you to install the NeuVector controller and scanner in the network. The Jenkins should be able to reach the NeuVector controller REST API. The NeuVector controller should be able to reach the container registry where the images are hosted. The second mode is the standalone mode which doesn't need any installation. To use this mode, you need to select it in the project configuration page. The NeuVector Standalone Scanner image will automatically get started at Jenkins build step. After the scan is done, the standalone scanner will be terminated.

* The "Controller & Scanner" mode can do the scan on registries and local images (before pushing it to any registries). Just remember that if you need to do the local image scan, you have to install the "Controller & Scanner" on the same node where the local image exists.
  
* The standalone scanner mode can do both the local image scan and registry scan.

## Setup the configuration in Jenkins

1. After installed the plugin, you will find the ‘NeuVector Vulnerability Scanner’ section in the global configuration page (Jenkins ‘Configure System’). Enter values for the "Controller & Scanner" mode which includes NeuVector Scanner source name, controller IP, port, username, and password. You may click the ‘Test Connection’ button to validate the values. It will show ‘Connection Success’ or an error message.

    The timeout minutes value will terminate the build step within the time entered. The default value of 0 means no timeout will occur.

    Enter values for the standalone scanner mode which includes NeuVector Scanner Registry URL, NeuVector Scanner Image Repository, NeuVector Scanner Registry User, NeuVector Scanner Registry Password, NeuVector License.

    Click the ‘Add Registry’ to enter values for the registry you will use in your project. If you just want to scan local images, you don’t need to add a registry here.

2. In your project configuration page, choose the 'NeuVector Vulnerability Scanner' plugin from the drop down menu in the 'Add build step'. Firstly, check the checkbox "Scan with Standalone scanner" if you want to do the scan in the standalone scanner mode. By default, it uses "Controller & Scanner" mode to do the scan. Secondly, choose 'Local' for local image scan. To do a registry scan, you need to define the registry in the global config page and choose the registry name here. Enter the repository (image) name and tag name. You may choose Jenkins default environment variables for the repository or tag. e.g. $JOB_NAME, $BUILD_TAG, $BUILD_NUMBER. Enter the values for the number of high or medium, the vulnerability names that present to fail the build, the vulnerability names that are exempt from the scan.

    When the build finishes, a NeuVector report will be generated. The report shows the scan details and errors if any.
