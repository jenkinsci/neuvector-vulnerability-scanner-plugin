NeuVector Vulnerability Scanner Jenkins Plugin
==============================================
## Description

Scan registries and images for vulnerabilities using this plug-in with
the NeuVector scanner.

## Requirements

* It supports two ways to do the image scan. One way uses NeuVector Standalone Scanner to do the scan. The NeuVector Standalone Scanner gets started at Jenkins build step and is running on the same host with Jenkins. The other way uses NeuVector Scanner Service to do the scan. It requires you to install the NeuVector Scanner Service on any node in the network with connectivity between the registry, NeuVector Scanner Service, and Jenkins.
  
* NeuVector Standalone Scanner supports to scan the local image (before pushing to any registries) and to scan any registry.
  
* NeuVector Scanner Service can scan all kinds of registry. To scan a local image, you need to install the NeuVector Scanner Service on the node where the local image exists.

## Setup the configuration in Jenkins

1. After installing the plugin, find the ‘NeuVector Vulnerability Scanner’ section in the global configuration page (Jenkins ‘Configure System’). Enter values for the NeuVector Scanner Service which includes NeuVector Scanner source name, controller IP, port, username, and password. You may click the ‘Test Connection’ button to validate the values. It will show ‘Connection Success’ or an error message.

    The timeout minutes value will terminate the build step within the time entered. The default value of 0 means no timeout will occur.

    Enter values for the NeuVector Standalone scanner including NeuVector Scanner Registry URL, NeuVector Scanner Image Repository, NeuVector Scanner Registry User, NeuVector Scanner Registry Password, NeuVector License. These values are used to pull the NeuVector Scanner image and run it on the Jenkins machine on dynamic at the Jenkins project build steps.

    Click the ‘Add Registry’ to enter values for the registry you will use in your project. If you will be only scanning local images, you don’t need to add a registry here.

2. In your project, choose the 'NeuVector Vulnerability Scanner' plugin from the drop down menu in the 'Add build step'. Firstly, check the checkbox "Scan with Standalone scanner" if you want to do the scan using NeuVector Standalone Scanner. By default, it uses NeuVector Scanner Service to do the scan. Secondly, choose 'Local' or a registry name which is the nickname you entered in global config. Enter the repository and image tag name to be scanned. You may choose Jenkins default environment variables for the repository or tag. e.g. $JOB_NAME, $BUILD_TAG, $BUILD_NUMBER. Enter the values for the number of high or medium, vulnerability names that present to fail the build and vulnerability names that are exempt from the scan.

    When the build finishes, a NeuVector report will be generated. It will show the scan details and errors if any.
