<?jelly escape-by-default='true'?>
<j:jelly xmlns:j="jelly:core" xmlns:st="jelly:stapler" xmlns:d="jelly:define" xmlns:l="/lib/layout"
         xmlns:t="/lib/hudson" xmlns:f="/lib/form">
    <f:section title="${%NeuVector}">
        <f:entry title="${%SourceName}" field="source">
            <f:textbox default="NeuVector Scanner on Jenkins"/>
        </f:entry>
        <f:entry title="${%URL}" field="controllerApiUrl">
            <f:textbox placeholder="https://example.com:8443/subpath"/>
        </f:entry>
        <f:entry title="${%Username}" field="user">
            <f:textbox/>
        </f:entry>
        <f:entry title="${%Password}" field="password">
            <f:password/>
        </f:entry>
        <f:entry title="${%Timeout}" field="timeout">
            <f:textbox/>
        </f:entry>
        <f:validateButton title="${%Test Connection}" progress="${%Testing Connection...}"
                          method="testConnection" with="controllerApiUrl,user,password" />

        <f:entry title="${%ScannerRegistryURL}" field="scannerRegistryURL">
            <f:textbox default="docker.io"/>
        </f:entry>
        <f:entry title="${%ScannerImage}" field="scannerImage">
            <f:textbox default="neuvector/scanner:latest"/>
        </f:entry>
        <f:entry title="${%ScannerRegistryUser}" field="scannerRegistryUser">
            <f:textbox />
        </f:entry>
        <f:entry title="${%ScannerRegistryPassword}" field="scannerRegistryPassword">
            <f:password />
        </f:entry>
        <f:entry>
        </f:entry>

        <f:entry title="${%Registry}">
            <f:repeatableProperty field="registries" noAddButton="false" header="Registry" add="Add Registry">
                <f:entry>
                    <div align="right">
                        <f:repeatableDeleteButton/>
                    </div>
                </f:entry>
            </f:repeatableProperty>
        </f:entry>
        <f:entry>
        </f:entry>

        <f:section title="${%OverwriteSeverityRating}">
            <f:entry title="${%MediumSeverityThreshold}" field="mediumSeverityThreshold">
                <f:number style="width:24%"/>
            </f:entry>
            <f:entry title="${%HighSeverityThreshold}" field="highSeverityThreshold">
                <f:number style="width:24%"/>
            </f:entry>

        </f:section>
    </f:section>
</j:jelly>
